#!/usr/bin/env python3

import os
import sys

def tree(path, prefix=""):
    if not os.path.isdir(path):
        print(f"ERRO: '{path}' não é um diretório válido")
        return

    entries = sorted(os.listdir(path))
    pointers = ['├── '] * (len(entries) - 1) + ['└── ']
    for pointer, entry in zip(pointers, entries):
        full_path = os.path.join(path, entry)
        print(prefix + pointer + entry)
        if os.path.isdir(full_path):
            extension = '│   ' if pointer.startswith('├') else '    '
            tree(full_path, prefix + extension)

def main():
    dir_path = sys.argv[1] if len(sys.argv) >= 2 else '.'
    print(dir_path)
    tree(dir_path)

if __name__ == "__main__":
    main()
